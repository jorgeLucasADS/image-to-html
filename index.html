<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Image->HTML</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --primary-color: #0078D4;
            --secondary-color: #28a745;
            --border-radius: 10px;
            --shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        body.light {
            --bg-color: #f9fafc;
            --text-color: #333;
            --muted-color: #777;
            --card-bg: #fff;
            --footer-bg: #333;
            --footer-text: #eee;
        }

        body.dark {
            --bg-color: #1e1e2f;
            --text-color: #eee;
            --muted-color: #aaa;
            --card-bg: #2a2a3d;
            --footer-bg: #111;
            --footer-text: #ccc;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .theme-toggle {
            position: absolute;
            top: 16px;
            right: 20px;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--text-color);
        }

        .upload-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
        }

        form {
            background: var(--card-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            max-width: 420px;
            width: 100%;
            text-align: center;
            position: relative;
        }

        h2 {
            margin-bottom: 24px;
            font-size: 24px;
            font-weight: 600;
        }

        .custom-file-label {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            background-color: var(--primary-color);
            color: white;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-bottom: 12px;
        }

        .custom-file-label:hover {
            background-color: #005A9E;
        }

        .custom-file-label::before {
            content: "üìÅ";
            font-size: 18px;
        }

        .file-input {
            display: none;
        }

        .file-name,
        .file-limit {
            font-size: 14px;
            color: var(--muted-color);
            margin-bottom: 8px;
        }

        .preview {
            display: none;
            margin: 16px auto;
            max-width: 100%;
            max-height: 200px;
            aspect-ratio: 4 / 3;
            object-fit: contain;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.3s ease;
        }

        .preview:hover {
            transform: scale(1.05);
            box-shadow: 0 0 12px rgba(0, 120, 212, 0.4);
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #ccc;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 20px;
            display: none;
        }

        .progress-fill {
            height: 100%;
            width: 0%;
            background: var(--primary-color);
            transition: width 0.4s ease;
        }

        .success-message {
            margin-top: 20px;
            font-size: 16px;
            color: var(--secondary-color);
            display: none;
            animation: fadeIn 0.6s ease forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        button[type="submit"] {
            margin-top: 20px;
            padding: 12px 24px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button[type="submit"]:hover {
            background-color: #218838;
        }

        footer {
            background-color: var(--footer-bg);
            color: var(--footer-text);
            text-align: center;
            padding: 14px 0;
            font-size: 14px;
        }

        footer a {
            color: var(--footer-text);
            text-decoration: none;
            margin-left: 6px;
        }

        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body class="dark">

<button class="theme-toggle" id="theme-toggle" title="Alternar tema">üåô</button>

<div class="upload-container">
    <form id="upload-form" action="https://webhook.fiqon.app/webhook/a010754e-3701-4898-be0c-788af06d1058/a2b9a1a9-c7d0-4ade-98a7-8daf8778da2b" method="POST" enctype="multipart/form-data">
        <h2>Conver√ßor de Imagem para HTML</h2>
        <div class="custom-file-label" id="custom-label">Escolher imagem</div>
        <input type="file" id="image" name="image" class="file-input" accept="image/*" required>
        <div class="file-name" id="file-name">Nenhum arquivo selecionado</div>
        <div class="file-limit">Limite de tamanho: 5MB</div>
        <img id="preview" class="preview" alt="Pr√©-visualiza√ß√£o da imagem">
        <div class="progress-bar" id="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
        <div class="success-message" id="success-message">‚úÖ Imagem enviada com sucesso!</div>
        <button type="submit">Enviar</button>
    </form>
</div>

<footer>
    &copy; 2025 | Desenvolvido por Jorge L A Santos <!--‚Äî
    <a href="https://jlucas.dev.br" target="_blank">jlucas.dev.br</a>-->
</footer>

<script>
    const fileInput = document.getElementById('image');
    const fileNameDisplay = document.getElementById('file-name');
    const customLabel = document.getElementById('custom-label');
    const form = document.getElementById('upload-form');
    const preview = document.getElementById('preview');
    const themeToggle = document.getElementById('theme-toggle');
    const body = document.body;
    const progressBar = document.getElementById('progress-bar');
    const progressFill = document.getElementById('progress-fill');
    const successMessage = document.getElementById('success-message');

    // Tema persistente
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
        body.className = savedTheme;
        themeToggle.textContent = savedTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
    }

    themeToggle.addEventListener('click', () => {
        body.classList.toggle('dark');
        body.classList.toggle('light');
        const newTheme = body.classList.contains('dark') ? 'dark' : 'light';
        themeToggle.textContent = newTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
        localStorage.setItem('theme', newTheme);
    });

    customLabel.addEventListener('click', () => {
        fileInput.click();
    });

    fileInput.addEventListener('change', () => {
        if (fileInput.files.length > 0) {
            const file = fileInput.files[0];
            fileNameDisplay.textContent = file.name;

            if (file.size > 5 * 1024 * 1024) {
                alert('O arquivo excede o limite de 5MB. Por favor, selecione outro.');
                fileInput.value = '';
                fileNameDisplay.textContent = 'Nenhum arquivo selecionado';
                preview.style.display = 'none';
                preview.src = '';
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                preview.src = e.target.result;
                preview.style.display = 'block';
                setTimeout(() => preview.style.opacity = '1', 50);
            };
            reader.readAsDataURL(file);
        } else {
            fileNameDisplay.textContent = 'Nenhum arquivo selecionado';
            preview.style.display = 'none';
            preview.src = '';
            preview.style.opacity = '0';
        }
    });

    form.addEventListener('submit', (e) => {
        const file = fileInput.files[0];
        if (file && file.size > 5 * 1024 * 1024) {
            e.preventDefault();
            alert('O arquivo excede o limite de 5MB. Envio cancelado.');
            return;
        }

        // Simula envio com barra de progresso
        //e.preventDefault(); // Impede envio real para simula√ß√£o
        progressBar.style.display = 'block';
        progressFill.style.width = '0%';
        successMessage.style.display = 'none';

        let progress = 0;
        const interval = setInterval(() => {
            progress += 10;
            progressFill.style.width = progress + '%';

            if (progress >= 100) {
                clearInterval(interval);
                successMessage.style.display = 'block';
                form.reset();
                fileNameDisplay.textContent = 'Nenhum arquivo selecionado';
                preview.style.display = 'none';
                preview.src = '';
                preview.style.opacity = '0';
            }
        }, 100);
    });
</script>

</body>
</html>